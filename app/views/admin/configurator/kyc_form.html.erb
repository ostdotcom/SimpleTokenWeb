<% entity_type = GlobalConstant::TemplateType.kyc_template_type %>
<% accordion_config = accordion_config(entity_type) %>

<form id="configurator-form" class="kyc-form" method="POST" action="<%= api_post_url(entity_type) %>" data-ost-formhelper>

  <div class="accordion <%= is_active_accordion( accordion_config[:kyc_form] )? "shown" : "" %>" role="tablist">
    <div class="accordion-header">
      <span class="accordion-header-label">KYC FORM</span>
    </div>
    <div class="accordion-content-wrapper mt-4" data-accordion-content="<%= accordion_config[:kyc_form] %>"></div>
  </div>

  <div class="accordion <%= is_active_accordion( accordion_config[:form_popup] )? "shown" : "" %>" role="tablist">
    <div class="accordion-header">
      <span class="accordion-header-label">KYC FORM POP-UP</span>
    </div>
    <div class="accordion-content-wrapper mt-4" data-accordion-content="<%= accordion_config[:form_popup] %>"></div>
  </div>

  <!--Should always be display none , its just a mocker -->
  <div class="general_error not-in-view"  style="display: none; "></div>
</form>

<% content_for :javascript do %>
  <script type="text/javascript">
     <% entity_type = GlobalConstant::TemplateType.kyc_template_type %>
    $(function () {
      ost.kycConfigurator.init({
        'configuratorGetApi' : "<%= api_get_url(entity_type) %>",
        'publishApi': "<%= api_publish_url %>",
        'resetApi': "<%= api_reset_url(entity_type) %>",
        'iframeUrl': "<%= iframe_url(entity_type) %>"
      });
    });
  </script>
<%end%>