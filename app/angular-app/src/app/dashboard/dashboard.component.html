<div class="row mt-4">
    <h4 class="kyc-header ml-4 text-transform-upper">Kyc dashboard</h4>
</div>

<div class="row  p-3 filters">
    <div class="col-12 d-lg-none">
        <kyc-navbar-search  [searchApi]="'api/admin/kyc/get-cases-by-email'"
                            [entityName]="'email'"
                            [placeholder]="'Search by Email'">
        </kyc-navbar-search>
    </div>
    <div class="col-12 col-lg-8">
      <form class="form-group" #filterForm="ngForm" name='filters' (change)="onFilterChange(filterForm)">
        <div class="row">
          <div class="col-12 col-lg pr-lg-0 mt-3">
            <label class='form-label mb-2'>ADMIN STATUS</label>
            <select class="form-control selectpicker" name="filters[admin_status]" [(ngModel)]='adminStatus'
                    ostOptions [entityPath]="'entity_configs.kyc_user_details.admin_status'">
            </select>
          </div>
          <div class="col-12 col-lg pr-lg-0 mt-3">
            <label class='form-label mb-2'>ADMIN REVIEW STATUS</label>
            <select class="form-control selectpicker" name="filters[admin_action_types]" [(ngModel)]='admimActionStatus'
                    ostOptions [entityPath]="'entity_configs.kyc_user_details.admin_action_types'">
            </select>
          </div>
          <div class="col-12 col-lg pr-lg-0 mt-3">
            <label class='form-label mb-2'>CYNOPSIS STATUS</label>
            <select class="form-control selectpicker" name="filters[cynopsis_status]" [(ngModel)]='cynopsisStatus'
                    ostOptions [entityPath]="'entity_configs.kyc_user_details.cynopsis_status'">
            </select>
          </div>
          <div class="col-12 col-lg pr-lg-0 mt-3">
            <label class='form-label mb-2'>WHITELIST STATUS</label>
            <select class="form-control selectpicker" name="filters[whitelist_status]" [(ngModel)]='whiteListStatus'
                    ostOptions [entityPath]="'entity_configs.kyc_user_details.whitelist_status'">
            </select>
          </div>
        </div>
      </form>
    </div>

    <div class="col-12 col-lg-4 px-0 ml-auto mt-3">
      <form class="col-lg-7 ml-auto pr-lg-0 form-group" #sortForm="ngForm" name='sorting'  (change)="onSortChange(sortForm)">
        <label class='form-label mb-2'>SORT BY</label>
        <select class="form-control selectpicker" name="sortings[sort_by]" [(ngModel)]='sortBy'
                ostOptions  [entityPath]="'entity_configs.kyc_user_details.sort_by'">
        </select>
      </form>
    </div>
  </div>

<div class="row" >
  <app-table class="w-100"
            [dataUrl]="'api/admin/kyc/dashboard/'"
            [pageNumber]='pageNumber'
            [filterForm]='filterForm'
            [sortForm]='sortForm'
            (pageChangeEvent)="onPageChange( $event )"
            [warningMsg]="'We could not find any results, please try changing the filters or refresh the page.'"
            [customErrorMsg]="'Something went wrong, we couldnot load the dashboard, please refresh the page or try updating the filters'">
    <dashboard-table-header class='header'></dashboard-table-header>
    <ng-template #rowData let-row >
      <app-row [row]='row'></app-row>
    </ng-template>
    </app-table>
</div>