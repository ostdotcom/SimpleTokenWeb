<div class="row mt-4 pt-2">
    <div class="col-12 col-lg-6">
      <h4 class="kyc-header text-transform-upper">user management</h4>
    </div>

</div>
<div class='row py-3 mb-3'>
<div class="col-12 col-lg-3">
   <form class='form-group' #searchForm="ngForm" name="search" (change)="onSearch(searchForm)">
    <div class="col-12 mt-3 px-0 pr-lg-4">
        <label class='form-label mb-2'>SEARCH WITHIN THIS PAGE</label>
        <div class="search-input-wrapper">
            <div class="form-group">
                <input type="text"
                      [placeholder]="placeholder"
                      name="search[q]"
                      [(ngModel)]="q"
                      class="form-control" />
                <button type="submit" class="search-addon rounded-right" style='border:none;'>
                  <svg class="svg" style="height: 20px;width: 20px">
                    <switch>
                      <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#search-icon"></use>
                    </switch>
                  </svg>
                </button>

              </div>
          </div>
      </div>
    </form>
</div>
<div class="col-12 col-lg-5 pl-lg-0">
    <form class="form-group" #filterForm="ngForm" name='filters' (change)="onFilterChange(filterForm)">
      <div class="row px-3 px-lg-0">

        <div class="col-12 col-lg-4 px-0 mt-3">
          <label class='form-label mb-2'>KYC SUBMITTED</label>
          <select class="form-control selectpicker" name="filters[kyc_submitted]" [(ngModel)]='kyc_submitted'
                  ostOptions [entityPath]="'entity_configs.user_management_dashboard.kyc_submitted'">
          </select>
        </div>
      </div>
    </form>
  </div>
  <div class="col-12 col-lg-4 ml-auto mt-3">
      <form class="col-lg-5 px-0 ml-auto form-group" #sortForm="ngForm" (change)="onSortChange(sortForm)" name='sorting'>
        <label class='form-label mb-2'>SORT BY</label>
        <select class="form-control selectpicker" name="sortings[sort_by]" [(ngModel)]='sort_by'
                ostOptions  [entityPath]="'entity_configs.user_management_dashboard.sort_by'">
        </select>
      </form>
    </div>
  </div>

  <div class="row" >
      <app-table class="w-100 alternate-style-lg"
                [dataUrl]="'api/admin/users/list'"
                [pageNumber]='page_number'
                [searchForm]='searchForm'
                [filterForm]='filterForm'
                [sortForm]='sortForm'
                (pageChangeEvent)="onPageChange( $event )"
                [warningMessage]="'We could not find any results, please try changing the filters.'"
                [customErrorMessage]="'Something went wrong, we could not load the dashboard, please refresh the page or try updating the filters'">
        <manage-user-header class='header'></manage-user-header>
        <ng-template #rowTemplate let-row >
          <manage-user-row [row]='row'
          (deleteRowEvent) = "onDeleteRow( $event )"
          ></manage-user-row>
        </ng-template>
        </app-table>
    </div>


    <manage-user-modal  [modalId]="'deleteUserModal'"
                        [user]="user"
                        [postApi]="postApi"
                        [actionButtonClass]="actionButtonClass"
                        [actionBtnPrimaryName]="actionBtnPrimaryName"
                        [DataType]="DataType"
                        (actionSuccessEvent)="onDeleteRowSucces( $event )">
    <ng-container class="modal-body-content">
        <div class="col-12">
            <h5 class="text-center">{{message}}
            </h5>
        </div>
    </ng-container>
    <ng-container class="custom-processing-content">
        <span>Processing ...</span>
    </ng-container>
    <ng-container class="custom-error-content">
        <span>There was some issue.<br>Please Try Again.</span>
    </ng-container>
    <ng-container class="custom-success-content">
        <span>{{successMessage}}</span>
    </ng-container>
</manage-user-modal>
